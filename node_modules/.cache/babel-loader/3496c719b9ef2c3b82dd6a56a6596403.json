{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport Vuex from 'vuex';\nimport Vue from 'vue';\nimport createVuexAlong from 'vuex-along';\nVue.use(Vuex);\nvar mainOption = {\n  namespaced: true,\n  state: {\n    lastestContent: '',\n    id: '1',\n    longCommentN: '',\n    shortCommentN: '',\n    share: true\n  },\n  actions: {},\n  mutations: {\n    updateId: function updateId(state, value) {\n      state.id = value;\n    },\n    updateLastestContent: function updateLastestContent(state, value) {\n      state.lastestContent = value;\n    },\n    updateLongComment: function updateLongComment(state, value) {\n      state.longCommentN = value;\n    },\n    updateShortComment: function updateShortComment(state, value) {\n      state.shortCommentN = value;\n    },\n    updateShare: function updateShare(state, value) {\n      state.share = value;\n    }\n  },\n  getters: {\n    TotalComment: function TotalComment(state) {\n      return state.longCommentN * 1.0 + state.shortCommentN * 1.0;\n    }\n  }\n};\nvar collectOption = {\n  namespaced: true,\n  actions: {},\n  mutations: {\n    // 收藏的添加以及擦除\n    collectItemAppend: function collectItemAppend(state, value) {\n      state.collectItem.add(value); // let flag = 0\n      // state.collectItem.forEach((item) => {\n      //     if (item.id == value.id) {\n      //         flag = 1\n      //     }\n      // })\n      // if (flag == 0) {\n      //     state.collectItem.push(value)\n      // }\n      // sessionStorage.setItem('collectItem', JSON.stringify(state.collectItem))\n    },\n    collectItemRemove: function collectItemRemove(state, value) {\n      state.collectItem.delete(value); // state.collectItem.forEach((item, index) => {\n      //         if (item.id == value.id) {\n      //             state.collectItem.splice(index, 1);\n      //         }\n      //     })\n      // sessionStorage.setItem('collectItem', JSON.stringify(state.collectItem))\n    },\n    // 点赞的添加以及擦除\n    dianzanItemAppend: function dianzanItemAppend(state, value) {\n      state.dianzanItem.add(value); // let flag = 0\n      // state.dianzanItem.forEach((item) => {\n      //     if (item.id == value.id) {\n      //         flag = 1\n      //     }\n      // })\n      // if (flag == 0) {\n      //     state.dianzanItem.push(value)\n      // }\n      // sessionStorage.setItem('dianzanItem', JSON.stringify(state.dianzanItem))\n    },\n    dianzanItemRemove: function dianzanItemRemove(state, value) {\n      state.dianzanItem.delete(value); // state.dianzanItem.forEach((item, index) => {\n      //         if (item.id == value.id) {\n      //             state.dianzanItem.splice(index, 1);\n      //         }\n      //     })\n      // sessionStorage.setItem('dianzanItem', JSON.stringify(state.dianzanItem))\n    },\n    ////////////////////////////////////////////\n    // 评论的添加以及更新（包含评论点赞状态）\n    commentsAppend: function commentsAppend(state, value) {\n      var flag = 0;\n      state.comments.forEach(function (item, index) {\n        if (item.id == value.id) {\n          state.comments.splice(index, 1, value);\n          flag = 1;\n        }\n      });\n\n      if (flag == 0) {\n        state.comments.push(value);\n      } // sessionStorage.setItem('comments', JSON.stringify(state.comments))\n\n    }\n  },\n  state: {\n    collectItem: new Set(),\n    dianzanItem: new Set(),\n    comments: []\n  },\n  getters: {}\n};\nexport default new Vuex.Store({\n  modules: {\n    mainOption: mainOption,\n    collectOption: collectOption\n  } // plugins: [\n  //     createVuexAlong({\n  //         // 设置保存的集合名字，避免同站点下的多项目数据冲突\n  //         name: \"hello-vuex-along\",\n  //         local: {\n  //             list: [\"ma\"],\n  //             // 过滤模块 ma 数据， 将其他的存入 localStorage\n  //             isFilter: true,\n  //         },\n  //         session: {\n  //             // 保存模块 ma 中的 a1 到 sessionStorage\n  //             list: [\"ma.a1\"],\n  //         },\n  //     }),\n  // ],\n\n});","map":{"version":3,"names":["Vuex","Vue","createVuexAlong","use","mainOption","namespaced","state","lastestContent","id","longCommentN","shortCommentN","share","actions","mutations","updateId","value","updateLastestContent","updateLongComment","updateShortComment","updateShare","getters","TotalComment","collectOption","collectItemAppend","collectItem","add","collectItemRemove","delete","dianzanItemAppend","dianzanItem","dianzanItemRemove","commentsAppend","flag","comments","forEach","item","index","splice","push","Set","Store","modules"],"sources":["D:/前端/Myzhihu/zhihu/src/store/index.js"],"sourcesContent":["import Vuex from 'vuex'\r\nimport Vue from 'vue'\r\nimport createVuexAlong from 'vuex-along'\r\nVue.use(Vuex)\r\n\r\nconst mainOption = {\r\n    namespaced: true,\r\n    state: {\r\n        lastestContent: '',\r\n        id: '1',\r\n        longCommentN: '',\r\n        shortCommentN: '',\r\n        share: true,\r\n    },\r\n    actions: {\r\n\r\n    },\r\n    mutations: {\r\n        updateId(state, value) {\r\n            state.id = value;\r\n        },\r\n        updateLastestContent(state, value) {\r\n            state.lastestContent = value;\r\n        },\r\n        updateLongComment(state, value) {\r\n            state.longCommentN = value;\r\n        },\r\n        updateShortComment(state, value) {\r\n            state.shortCommentN = value;\r\n        },\r\n        updateShare(state, value) {\r\n            state.share = value;\r\n        },\r\n    },\r\n    getters: {\r\n        TotalComment(state) {\r\n            return state.longCommentN * 1.0 + state.shortCommentN * 1.0\r\n        }\r\n    }\r\n}\r\nconst collectOption = {\r\n    namespaced: true,\r\n    actions: {\r\n\r\n    },\r\n    mutations: {\r\n        // 收藏的添加以及擦除\r\n        collectItemAppend(state, value) {\r\n            state.collectItem.add(value);\r\n            // let flag = 0\r\n            // state.collectItem.forEach((item) => {\r\n            //     if (item.id == value.id) {\r\n            //         flag = 1\r\n            //     }\r\n            // })\r\n            // if (flag == 0) {\r\n            //     state.collectItem.push(value)\r\n            // }\r\n            // sessionStorage.setItem('collectItem', JSON.stringify(state.collectItem))\r\n        },\r\n        collectItemRemove(state, value) {\r\n            state.collectItem.delete(value);\r\n            // state.collectItem.forEach((item, index) => {\r\n            //         if (item.id == value.id) {\r\n            //             state.collectItem.splice(index, 1);\r\n            //         }\r\n            //     })\r\n            // sessionStorage.setItem('collectItem', JSON.stringify(state.collectItem))\r\n        },\r\n        // 点赞的添加以及擦除\r\n        dianzanItemAppend(state, value) {\r\n            state.dianzanItem.add(value);\r\n            // let flag = 0\r\n            // state.dianzanItem.forEach((item) => {\r\n            //     if (item.id == value.id) {\r\n            //         flag = 1\r\n            //     }\r\n            // })\r\n            // if (flag == 0) {\r\n            //     state.dianzanItem.push(value)\r\n            // }\r\n            // sessionStorage.setItem('dianzanItem', JSON.stringify(state.dianzanItem))\r\n        },\r\n        dianzanItemRemove(state, value) {\r\n            state.dianzanItem.delete(value)\r\n                // state.dianzanItem.forEach((item, index) => {\r\n                //         if (item.id == value.id) {\r\n                //             state.dianzanItem.splice(index, 1);\r\n                //         }\r\n                //     })\r\n                // sessionStorage.setItem('dianzanItem', JSON.stringify(state.dianzanItem))\r\n        },\r\n        ////////////////////////////////////////////\r\n        // 评论的添加以及更新（包含评论点赞状态）\r\n        commentsAppend(state, value) {\r\n            let flag = 0\r\n            state.comments.forEach((item, index) => {\r\n                if (item.id == value.id) {\r\n                    state.comments.splice(index, 1, value)\r\n                    flag = 1\r\n                }\r\n            })\r\n            if (flag == 0) {\r\n                state.comments.push(value)\r\n            }\r\n            // sessionStorage.setItem('comments', JSON.stringify(state.comments))\r\n        },\r\n\r\n\r\n    },\r\n    state: {\r\n        collectItem: new Set(),\r\n        dianzanItem: new Set(),\r\n        comments: [],\r\n    },\r\n    getters: {\r\n\r\n    }\r\n}\r\nexport default new Vuex.Store({\r\n    modules: {\r\n        mainOption,\r\n        collectOption\r\n    },\r\n    // plugins: [\r\n    //     createVuexAlong({\r\n    //         // 设置保存的集合名字，避免同站点下的多项目数据冲突\r\n    //         name: \"hello-vuex-along\",\r\n    //         local: {\r\n    //             list: [\"ma\"],\r\n    //             // 过滤模块 ma 数据， 将其他的存入 localStorage\r\n    //             isFilter: true,\r\n    //         },\r\n    //         session: {\r\n    //             // 保存模块 ma 中的 a1 到 sessionStorage\r\n    //             list: [\"ma.a1\"],\r\n    //         },\r\n    //     }),\r\n    // ],\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}