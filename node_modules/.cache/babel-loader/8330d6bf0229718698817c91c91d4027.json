{"ast":null,"code":"import _objectSpread from \"D:/\\u524D\\u7AEF/Myzhihu/zhihu/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport Share from './Share.vue';\nimport { mixin } from '../mixin';\nimport { mapState, mapMutations } from 'vuex';\nexport default {\n  name: 'newmenu',\n  data: function data() {\n    return {\n      dianzan: 'icon-dianzan',\n      shoucang: 'icon-shoucang',\n      commentsNum: 0,\n      thumbs: 0\n    };\n  },\n  components: {\n    Share: Share\n  },\n  methods: _objectSpread(_objectSpread(_objectSpread({}, mapMutations('mainOption', ['updateShare'])), mapMutations('collectOption', ['collectItemAppend', 'collectItemRemove', 'dianzanItemAppend', 'dianzanItemRemove'])), {}, {\n    dianzanToggle: function dianzanToggle() {\n      this.dianzan = this.dianzan === 'icon-dianzan' ? 'icon-dianzan redIcon' : 'icon-dianzan';\n      this.thumbs += this.dianzan === 'icon-dianzan' ? -1 : 1;\n\n      if (this.dianzan == 'icon-dianzan redIcon') {\n        this.dianzanItemAppend(this.lastestContent);\n      }\n\n      if (this.dianzan == 'icon-dianzan') {\n        this.dianzanItemRemove(this.lastestContent);\n      }\n    },\n    shoucangToggle: function shoucangToggle() {\n      this.shoucang = this.shoucang === 'icon-shoucang' ? 'icon-shoucang redIcon' : 'icon-shoucang';\n\n      if (this.shoucang == 'icon-shoucang redIcon') {\n        this.collectItemAppend(this.lastestContent);\n      }\n\n      if (this.shoucang == 'icon-shoucang') {\n        this.collectItemRemove(this.lastestContent);\n      }\n    },\n    shareIt: function shareIt() {\n      this.updateShare(false);\n    }\n  }),\n  mixins: [mixin],\n  computed: _objectSpread(_objectSpread({}, mapState('mainOption', ['id', 'share'])), mapState('collectOption', ['collectItem', 'dianzanItem'])),\n  mounted: function mounted() {\n    var _this = this;\n\n    this.collectItem.forEach(function (item) {\n      if (item.id == _this.id) {\n        _this.shoucangToggle();\n      }\n    });\n    this.dianzanItem.forEach(function (item) {\n      if (item.id == _this.id) {\n        _this.dianzanToggle();\n      }\n    });\n    axios.get('api/4/story-extra/' + this.id).then(function (response) {\n      _this.commentsNum = response.data.comments;\n      _this.thumbs = response.data.popularity;\n    });\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;EACAA,eADA;EAEAC,IAFA,kBAEA;IACA;MACAC,uBADA;MAEAC,yBAFA;MAGAC,cAHA;MAIAC;IAJA;EAMA,CATA;EAUAC;IACAC;EADA,CAVA;EAaAC,uDACAC,2CADA,GAEAA,mHAFA;IAGAC,aAHA,2BAGA;MACA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;IACA,CAZA;IAaAC,cAbA,4BAaA;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;IACA,CArBA;IAsBAC,OAtBA,qBAsBA;MACA;IACA;EAxBA,EAbA;EAuCAC,eAvCA;EAwCAC,0CACAC,uCADA,GAEAA,yDAFA,CAxCA;EA4CAC,OA5CA,qBA4CA;IAAA;;IACA;MACA;QACA;MACA;IACA,CAJA;IAMA;MACA;QACA;MACA;IACA,CAJA;IAKAC,+CACA;MACA;MACA;IACA,CAJA;EAMA;AA9DA","names":["name","data","dianzan","shoucang","commentsNum","thumbs","components","Share","methods","mapMutations","dianzanToggle","shoucangToggle","shareIt","mixins","computed","mapState","mounted","axios"],"sourceRoot":"src/components","sources":["NewMenu.vue"],"sourcesContent":["<template>\r\n    <div class=\"menuWrapper\">\r\n        <div class=\"back\"><i class=\"iconfont icon-fanhui\" @click=\"back\"></i></div>\r\n        <div class=\"otherIco\">\r\n            <i class=\"iconfont icon-pinglun1\" ></i>\r\n            <span>{{commentsNum}}</span>\r\n        </div>\r\n        <div class=\"otherIco\">\r\n            <i class=\"iconfont\" :class=\"dianzan\" @click=\"dianzanToggle\"></i>\r\n            <span>{{thumbs}}</span>\r\n        </div>\r\n        <div class=\"otherIco\">\r\n            <i class=\"iconfont\" :class=\"shoucang\" @click=\"shoucangToggle\"></i>\r\n        </div>\r\n        <div class=\"otherIco\"><i class=\"iconfont icon-fenxiang\" @click=\"shareIt\"></i></div>\r\n\r\n        <share v-if=\"!share\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport Share from './Share.vue'\r\nimport {mixin} from '../mixin'\r\nimport {mapState,mapMutations} from 'vuex'\r\nexport default {\r\n    name:'newmenu',\r\n    data() {\r\n        return {\r\n            dianzan:'icon-dianzan',\r\n            shoucang:'icon-shoucang',\r\n            commentsNum:0,\r\n            thumbs:0,\r\n        }\r\n    },\r\n    components:{\r\n        Share\r\n    },\r\n    methods: {\r\n        ...mapMutations('mainOption',['updateShare']),\r\n        ...mapMutations('collectOption',['collectItemAppend','collectItemRemove','dianzanItemAppend','dianzanItemRemove']),\r\n        dianzanToggle(){\r\n            this.dianzan = this.dianzan==='icon-dianzan'?'icon-dianzan redIcon':'icon-dianzan';\r\n            this.thumbs += this.dianzan==='icon-dianzan'? -1:1;\r\n            if(this.dianzan=='icon-dianzan redIcon'){\r\n                this.dianzanItemAppend(this.lastestContent)\r\n            }\r\n            if(this.dianzan=='icon-dianzan'){\r\n                this.dianzanItemRemove(this.lastestContent)\r\n            }\r\n        },\r\n        shoucangToggle(){\r\n            this.shoucang = this.shoucang==='icon-shoucang'?'icon-shoucang redIcon':'icon-shoucang';\r\n            if(this.shoucang=='icon-shoucang redIcon'){\r\n                this.collectItemAppend(this.lastestContent)\r\n            }\r\n            if(this.shoucang=='icon-shoucang'){\r\n                this.collectItemRemove(this.lastestContent)\r\n            }\r\n        },\r\n        shareIt(){\r\n            this.updateShare(false);\r\n        }\r\n    },\r\n    mixins:[mixin],\r\n    computed:{\r\n        ...mapState('mainOption',['id','share']),\r\n        ...mapState('collectOption',['collectItem','dianzanItem'])\r\n    },\r\n    mounted() {\r\n        this.collectItem.forEach((item)=>{\r\n            if(item.id==this.id){\r\n                this.shoucangToggle()\r\n            }\r\n        })\r\n\r\n        this.dianzanItem.forEach((item)=>{\r\n            if(item.id==this.id){\r\n                this.dianzanToggle()\r\n            }\r\n        })\r\n        axios.get('api/4/story-extra/'+this.id).then(\r\n            response => {\r\n                this.commentsNum = response.data.comments\r\n                this.thumbs = response.data.popularity\r\n            }\r\n        )\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.menuWrapper{\r\n    width: 3.76rem;\r\n    height: 0.5rem;\r\n    border: black 1px solid;\r\n    background-color: white;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .back{\r\n        width: 0.55rem;\r\n        height: 0.26rem;\r\n        font-size: 0.2rem;\r\n        border-right: 0.01rem #888888 solid;\r\n        margin: 0.12rem 0;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n    .otherIco{\r\n        width: 0.55rem;\r\n        height: 0.26rem;\r\n        font-size: 0.2rem;\r\n        margin: 0.12rem 0;\r\n        display: flex;\r\n        align-items: baseline;\r\n        position: relative;        \r\n\r\n        i{\r\n            font-size: 0.25rem;\r\n            line-height: 0.25rem;\r\n        }\r\n        .redIcon{\r\n            color: red;\r\n        }\r\n    }\r\n    .otherIco span{\r\n        font-size: 0.1rem;\r\n        position: absolute;\r\n        right: 0.1rem;\r\n        top:0rem\r\n    }\r\n\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}